{% extends "base.html" %}
{% load static %}
{% load i18n %}
{% load allauth account %}

{% block extra_head %}
  <link rel="stylesheet" href="{% static 'css/auth.css' %}">
{% endblock %}

{% block nav_image %}
<!-- Hides nav image if your base template uses this -->
{% endblock %}

{% block head_title %}
  {% trans "Sign Up" %}
{% endblock %}

{% block content %}
  <div class="auth-container">
    <h1>{% trans "Sign Up" %}</h1>

    <p class="auth-redirect">
      {% blocktranslate %}Already have an account? Then please <a href="{{ login_url }}">sign in</a>.{% endblocktranslate %}
    </p>

    {% if not SOCIALACCOUNT_ONLY %}
      <form method="post" action="{% url 'account_signup' %}">
        {% csrf_token %}

        {# Render all fields except password2 #}
        {% for field in form %}
          {% if field.name != 'password2' %}
            <div class="form-group">
              {{ field.label_tag }}
              {{ field }}
              {{ field.errors }}
            </div>
          {% endif %}
        {% endfor %}

        {# Password (again) goes here at the bottom #}
        <div class="form-group">
          {{ form.password2.label_tag }}
          {{ form.password2 }}
          {{ form.password2.errors }}
        </div>

        {{ redirect_field }}
        <button type="submit" class="btn-submit">{% trans "Sign Up" %}</button>
      </form>
    {% endif %}

    {% if SOCIALACCOUNT_ENABLED %}
      <div class="social-logins">
        {% include "socialaccount/snippets/login.html" with page_layout="entrance" %}
      </div>
    {% endif %}
  </div>
{% endblock %}